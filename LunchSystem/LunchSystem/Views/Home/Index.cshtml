@model IEnumerable<LunchSystem.Models.Order>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h4>Order Page</h4>
<div class="row">
    <div class="col-6">
        <img src="~/Content/Image/menu_HuXuZhang.jpg" alt="HuXuZhang" width="90%" height="90%" id="MenuPicture"> <br />
    </div>
    <div class="col-6">
        @using (Html.BeginForm("Order", "Home", FormMethod.Post))
        {
            <p class="alert alert-info">All fields are <strong>required</strong>.</p>
                    <div class="form-row">
                        <div class="form-group col-sm-12">
                            <div class="input-group">
                                <span class="input-group-addon"> Name</span>
                                <input type="text" class="form-control" id="MemberName" name="MemberName" required>
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-sm-8">
                            <div class="input-group">
                                <span class="input-group-addon"> Order</span>
                                <input class="form-control" type="text" id="Meal" name="Meal" required />
                            </div>
                        </div>
                        <div class="form-group col-sm-4">
                            <div class="input-group">
                                <span class="input-group-addon"> Cost</span>
                                <input type="text" class="form-control" id="Cost" name="Cost" required>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-outline-success btn-block" id="submit">Submit</button>
        }
        
        <br/>
        <table style="width:100%" id="OrderTable">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Order</th>
                    <th>Cost</th>
                </tr>
                @foreach (var order in Model)
                {
                    <tr>
                        <td>@order.MemberName</td>
                        <td>@order.Meal</td>
                        <td>@order.Cost</td>
                    </tr>
                }
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>
<script>
    function Clear() {
        document.getElementById("Meal").value = "";
        document.getElementById("Cost").value = "";
    }

    function OrderT() {
        var meal = document.getElementById("Meal").value;
        var user = document.getElementById("MemberName").value;
        var cost = document.getElementById("Cost").value;
        if (meal === "" || user === "")
            return;

        var tableRef = document.getElementById('OrderTable').getElementsByTagName('tbody')[0];

        // Insert a row in the table at the last row
        var newRow = tableRef.insertRow(tableRef.rows.length);

        // Insert a cell in the row at index 0
        var columnUser = newRow.insertCell(0);
        var columnMeal = newRow.insertCell(1);
        var columnCost = newRow.insertCell(2);

        // Append a text node to the cell
        var textUser = document.createTextNode(user);
        var textMeal = document.createTextNode(meal);
        var textCost = document.createTextNode(cost);
        columnUser.appendChild(textUser);
        columnMeal.appendChild(textMeal);
        columnCost.appendChild(textCost);
        Clear();
    }
</script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
